# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
baggage-dimension-system/
‚îú‚îÄ‚îÄ app.py                    # Flask –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ API endpoints
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ—Ç–µ–∫—Ü–∏–∏)
‚îú‚îÄ‚îÄ interfaces.py             # –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∫–∞–º–µ—Ä—ã –∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ camera_manager.py         # –ì–ª–∞–≤–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∏—Å—Ç–µ–º—ã, –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ realsense_camera.py       # –î—Ä–∞–π–≤–µ—Ä –¥–ª—è Intel RealSense D435
‚îú‚îÄ‚îÄ mock_camera.py            # –≠–º—É–ª—è—Ç–æ—Ä –∫–∞–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ baggage_detector.py       # YOLO –¥–µ—Ç–µ–∫—Ü–∏—è –∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ª—é–¥–µ–π/–±–∞–≥–∞–∂–∞
‚îú‚îÄ‚îÄ baggage_tracker.py        # –¢—Ä–µ–∫–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (Kalman filter)
‚îú‚îÄ‚îÄ depth_processor.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Ä—Ç –≥–ª—É–±–∏–Ω—ã, —É–¥–∞–ª–µ–Ω–∏–µ –ª—é–¥–µ–π
‚îú‚îÄ‚îÄ frame_processor.py        # –û—Å–Ω–æ–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–¥—Ä–æ–≤, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è pipeline
‚îú‚îÄ‚îÄ dimension_estimator.py    # –û—Ü–µ–Ω–∫–∞ –≥–∞–±–∞—Ä–∏—Ç–æ–≤ –ø–æ 3D –¥–∞–Ω–Ω—ã–º
‚îú‚îÄ‚îÄ point_cloud_reconstructor.py  # 3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îú‚îÄ‚îÄ video_recorder.py         # –ó–∞–ø–∏—Å—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html           # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
‚îú‚îÄ‚îÄ static/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ recordings/              # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ raw_data/               # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (RGB, depth, intrinsics)
‚îú‚îÄ‚îÄ point_clouds/           # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ 3D –º–æ–¥–µ–ª–∏ –±–∞–≥–∞–∂–∞
‚îî‚îÄ‚îÄ README.md               # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## üì¶ –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```bash
pip install pyrealsense2        # Intel RealSense SDK –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–º–µ—Ä–æ–π
pip install numpy              # –ß–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
pip install opencv-python      # –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
pip install flask             # –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
pip install ultralytics       # YOLOv8 –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
pip install open3d            # –†–∞–±–æ—Ç–∞ —Å –æ–±–ª–∞–∫–∞–º–∏ —Ç–æ—á–µ–∫ –∏ 3D
pip install scipy             # –ù–∞—É—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è)

```bash
pip install filterpy          # –§–∏–ª—å—Ç—Ä—ã –ö–∞–ª–º–∞–Ω–∞ –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
pip install Pillow            # –†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
pip install matplotlib        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

```bash
pip install pyrealsense2 numpy opencv-python flask ultralytics open3d scipy filterpy Pillow matplotlib
```

## üîß –û–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

### –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã

- **`camera_manager.py`** - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **`frame_processor.py`** - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä: –¥–µ—Ç–µ–∫—Ü–∏—è ‚Üí —Ç—Ä–µ–∫–∏–Ω–≥ ‚Üí –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
- **`config.py`** - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –ø–æ—Ä–æ–≥–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–∫–∏–Ω–≥–∞)

### –†–∞–±–æ—Ç–∞ —Å –∫–∞–º–µ—Ä–æ–π

- **`realsense_camera.py`** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Intel RealSense —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ —É–ª—É—á—à–µ–Ω–∏—è –≥–ª—É–±–∏–Ω—ã
- **`mock_camera.py`** - –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∫–∞–º–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É—è –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **`interfaces.py`** - –ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –ª–µ–≥–∫–æ–π –∑–∞–º–µ–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –î–µ—Ç–µ–∫—Ü–∏—è –∏ —Ç—Ä–µ–∫–∏–Ω–≥

- **`baggage_detector.py`** - YOLOv8 –Ω–∞—Ö–æ–¥–∏—Ç –ª—é–¥–µ–π –∏ –±–∞–≥–∞–∂, —Å–æ–∑–¥–∞–µ—Ç –º–∞—Å–∫–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- **`baggage_tracker.py`** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ö–∞–ª–º–∞–Ω –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
- **`depth_processor.py`** - –£–¥–∞–ª—è–µ—Ç –ª—é–¥–µ–π –∏–∑ –∫–∞—Ä—Ç—ã –≥–ª—É–±–∏–Ω—ã, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –±–∞–≥–∞–∂

### –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–æ–≤

- **`dimension_estimator.py`** - –í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à–∏–π –∫–∞–¥—Ä, —Å—Ç—Ä–æ–∏—Ç 3D –º–æ–¥–µ–ª—å, –≤—ã—á–∏—Å–ª—è–µ—Ç oriented bounding box
- **`point_cloud_reconstructor.py`** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã 3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∑–∞–ø–∏—Å—å

- **`app.py`** - Flask —Å–µ—Ä–≤–µ—Ä —Å API endpoints –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- **`video_recorder.py`** - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –∏ —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **`templates/index.html`** - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å live preview –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º

## üíæ –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **RGB**: 640√ó480, 15 FPS, BGR —Ñ–æ—Ä–º–∞—Ç
- **Depth**: 640√ó480, 16-bit, –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã

### –°–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ**: MP4 —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –º–∞—Å–æ–∫ –∏ –≥–∞–±–∞—Ä–∏—Ç–æ–≤
- **–°—ã—Ä—ã–µ RGB**: –ø–∞–ø–∫–∞ —Å –∫–∞–¥—Ä–∞–º–∏
- **–°—ã—Ä—ã–µ Depth**: –ø–∞–ø–∫–∞ —Å npy –º–∞—Å—Å–∏–≤–∞–º–∏ –≥–ª—É–±–∏–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from camera_manager import CameraManager
from realsense_camera import RealSenseCamera
from config import Config

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
camera = RealSenseCamera()
manager = CameraManager(camera, Config.CAMERA_INTRINSICS)

# –ó–∞–ø—É—Å–∫
manager.start()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∫–∞–¥—Ä–∞
results = manager.get_processed_frame()
if results:
    cv2.imshow('Result', results['combined'])
    
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
manager.stop()
```

### –†–∞–±–æ—Ç–∞ —Å mock –¥–∞–Ω–Ω—ã–º–∏

```python
from mock_camera import MockCamera

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
mock_camera = MockCamera(
    rgb_folder='./raw_data/rgb_frames/',
    depth_folder='./raw_data/depth_frames/',
    intrinsics_folder='./raw_data/intrinsics/'
)
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–ª–∞–≥–∏ –≤ config.py

```python
ORIENTATION_VERTICAL = True  # –ü–æ–≤–æ—Ä–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ 90¬∞
MIN_OBSERVATIONS = 5        # –ú–∏–Ω–∏–º—É–º –∫–∞–¥—Ä–æ–≤ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è
OUTLIER_THRESHOLD = 2       # –ü–æ—Ä–æ–≥ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π
```
